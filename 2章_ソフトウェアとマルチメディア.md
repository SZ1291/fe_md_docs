# ソフトウェア

- ミドルウェア
  - 多くのアプリケーションが必要とする共通の基本機能や統一的なインターフェースを提供するソフトウェア
  - DBMS とか
- API
  - ある機能を公開しているソフトウェアとその機能を利用するソフトウェアとのインターフェース
  - 各機能に**利用規約**があり、規約に従い呼び出すだけで利用可能
- デバイスドライバ
  - PC に接続した周辺機器を制御するソフトウェア
  - アプリケーションからの要求に従って**ハードウェアを直接制御**
  - **プラグアンドプレイ**(プラグを挿すだけで設定してくれる)も多くなっている
- オープンソースソフトウェア
  - ソースコードが公開されているソフトウェア
  - 無保証を原則にソースコードの改変や再配布可能
  - 必ずしも無料である必要はない
  - OSI(Open Source Initiative OSS を認定する非営利団体)の 10 個の条件
    - **再配布先となる個人やグループを限定しない**
    - **利用する分野を限定しない**
    - **再配布で追加ライセンスを要求しない**
    - 特定の製品に限定したライセンスにしない
  - コピーレフト =>ソースコードを改変して再配布するときは、元のソフトウェアと同じ配布条件で再配布しなければならないライセンス(難しいので p.64 参照)
  - OSS を**改変したが再配布しない場合**、改変部分のソースコードを公開しなくてよい

# ジョブ管理とタスク管理

- ジョブ => 利用者からみた仕事の単位
- タスク(プロセス) => OS からみた仕事または実行の単位。ジョブはいくつかのタスクに分解される。

## ジョブ管理

- ジョブのスケジューリング
  - ジョブの入力と出力を管理
  - 投入されたジョブは入力待ち行列に登録
  - ジョブが処理されたあとは出力待ち行列に登録
  - 先入れ先出しの**キュー**構造(FIFO:First In First Out)
    - エンキュー => キューをデータに格納すること
    - デキュー => キューからデータを取り出すこと
  - スプーリング
    - 主記憶装置と低速の入出力装置との間のデータ転送を、補助記憶装置を介して行うこと
    - 上記の具体例：出力データを磁気ディスクに書き込んでから出力する
    - スループット(単位時間当たりの仕事量)の向上に役立つ

## タスク管理

- p.73 確認問題 5 式だけど日本語の問題

- 実行可能状態
  - 生成された直後のタスク
  - 実効状態のタスクがほかの優先順位の高いタスクに CPU 使用権とられると遷移
  - 入出力処理が完了すれば残りの処理の実行のためにこの状態に遷移する
- 実行状態 => 実行可能状態のタスクに CPU の使用権を割り当てる(ディスパッチ)と遷移
- 待ち状態 => 実行状態中に入出力待ちが生じた場合遷移する(その後が 2 行上の流れ)

### タスクのスケジューリング

- 到着順方式 => **実行可能待ち行列の先頭から**CPU 使用権割り当て
- 処理時間順方式 => 処理時間の最も短いタスクから順に CPU 使用権割り当て
- 優先度順方式 => 優先度の高いタスクから順に CPU 使用権を割り当てる
- ラウンドロビン方式 => 実行待ち行列の先頭にあるタスクから順に CPU 使用権を割り当て、一定時間(**タイムスライス**)が経過した場合、**実行を中断して**、実行可能待ち行列の**最後尾に加える**

### マルチタスク(マルチプログラミング)

- 複数のタスクに CPU の処理時間を順番に割り当てることでタスクが同時に実行されている**ように見せる**方式。CPU を有効活用できる(なぜ有効活用できるのかは p.69 参照)

### タスクの切り替え方式

- プリエンプティブ方式 => OS の判断、こちらが主流
- ノンプリエンプティブ方式 => プログラムの判断

### マルチスレッド

- タスク内で並行処理が可能な部分を複数の処理単位(**スレッド**)に分割し、並行して処理する OS の機能
- マルチコア CPU を使用したコンピュータの処理能力を有効活用でき、複数のコアでスレッドを並行処理する

### 割込み処理

- 実行中の処理を一時中断し、別の処理に切り替えること
- 実行中の**プログラムが原因**で起こる**内部割込み**
  - プログラム割込み => ゼロによる除算、桁あふれ、ページフォルト、記憶保護例外など、**不正な命令**が原因で起こる
  - SVC 割込み => プログラムが OS に入出力を要求したときなどに起こる
- 実行中のプログラム**以外**が原因で起こる**外部割込み**
  - 機械チェック割込み => 電源異常、主記憶の故障など**ハードウェアの故障**が原因
  - 入出力割込み => 入出力装置の入出力動作が完了したときにおこる
  - タイマ割込み => プログラムの実行時間が設定時間を経過したときに起こる
  - コンソール割込み => オペレータが介入したときに起こる

## 記憶管理

### 実記憶管理

- 区画方式 => 主記憶をいくつかの区画に分割してプログラムに割り当てる方式
  - 固定区画方式 => あらかじめ決まった区画に分割。**主記憶の使用効率悪い**、**処理時間早い**
  - 可変区画方式 => プログラムが必要とする大きさの区画に割り当てる方式。**主記憶の使用効率良い**、**処理時間遅い**
- スワッピング方式 => 主記憶の容量が不足し、複数のプログラムを主記憶上に配置できないとき、優先度の低いプログラムを一時中断して退避(**スワップアウト**)し、優先度の高いプログラムを主記憶に配置する(**スワップイン**)方式
- オーバレイ方式 => あらかじめプログラムを同時に実行しない、排他的ないくつかの単位(**セグメント**)に分割し、実行時に必要なセグメントだけを主記憶に配置して実行する方式

- メモリリーク => 使用可能な主記憶の容量が減少する現象

# マルチメディア

## 画像・動画のファイル形式

- BMP => **非圧縮**の画像ファイル
- MPEG **動画の**国際標準規格(MP3 は音声だが気にしない惑わされない)
  - 1 => Video,CD
  - 2 => DVD
  - 3 => 音声
  - 4 => ビデオカメラ,**ワンセグ放送**,H.264/MPEG-4AVC

## 画像データの種類

- ラスタデータ

  - BMP,GIF,JPEG,PNG
  - 主に写真を扱う
  - 拡大すると**ジャギー**が生じる

- ベクタデータ
  - 主に線画を扱う
  - 線をどう引くか、どう塗りつぶすかなどの情報を保存
  - 拡大してもジャギーが生じない
  - ビットマップフォントはラスタデータだが、**アウトラインフォントはベクタデータ**

## CG

- アンチエイリアシング 斜め線や曲線のジャギーを目立たなくする
- テクスチャマッピング 物体の表面に色や模様を貼り付け、質感を与える
- クリッピング **ウィンドウを定義**し、そこから**見える部分だけを取り出す**
- モーフィング ある画像から別の画像へ滑らかに変形させるため**中間に補う画像を作成**
- レンダリング 物体のデータとして与えられた情報を計算によって映像化する
- ポリゴン 立体の形状を表現するときに使用する基本的な要素。三角形や四角形が用いられる
- ソリッドモデル 物体を中身が詰まった固形物として表現する
- ワイヤーフレーム 物体を頂点と頂点でつなぐ線で結び、針金で構成されているように表現する
- サーフェスモデル 物体を面や局面の集まりとして表現する
- 隠線消去(隠面消去) 物体の裏側で見えていない線を描画しないようにする
- メタボール 物体を球や楕円体の集合として疑似的にモデルする
- ラジオシティ 物体同士の相互反射も考慮して物体の明るさを決定する
