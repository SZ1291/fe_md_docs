# データベース

- データモデル

  - データベースを設計する際に、実世界におけるデータの集合をデータベース上で利用可能にするもの
  - 関係モデル => 2 次元の表、データの関係を集合論などの数学モデルで表現したもの(**p257 確認問題 2**)
  - 階層モデル => 親子関係の**木構造**
  - ネットワークモデル => 網状

- スキーマ

  - データの形式や性質、他のデータとの関連を定義したもの
  - 外部スキーマ => ビューなど、利用者やアプリケーションから見たデータベースの構造。概念スキーマから必要な部分を取り出して定義したもの
  - 概念スキーマ => 開発者からみたデータ項目やデータベースの構造を定義したもの
  - 内部スキーマ => データベースにデータを格納するための物理的な構造を定義したもの

- DBMS の機能

  - 保全機能 => 参照制約や排他制御など、データの**整合性を保つ機能**
  - 障害回復機能 => ロールフォワードやロールバックなど、データベースの**障害を回復する機能**
  - 機密保護機能 => ユーザ認証やアクセス制御など、**データの改ざんや漏洩を未然に防ぐ機能**

- 再編成 => データベースの変更操作の繰り返しによりデータの物理的な格納位置が不規則になったり、削除領域が利用できなくなったりする状態を修復し、アクセス性を向上させること

## データベース設計

- E-R 図 => エンティティ、リレーションのやつ。1 対 1 とかのやつ。(**実体と実体間の関連**を示した図)
- 主キー => 表中の行を一意に識別するための列。一意制約、非 NULL 制約
- 外部キー => 他の表の主キーを参照している列。参照制約(表間でデータの矛盾が発生しないこと)
- インデックス
  - 検索項目をインデックスにすることで検索時間を短く、検索時間を比較的一定した時間に収めることができる
  - データの追加や削除の頻度が高い時はデータ本体だけでなくインデックスも更新しなければならず、処理時間は長くなってしまう

## データの正規化

- p.262 参照

## トランザクション処理

- ACID 特性
  - 原子性 => トランザクション処理が すべて完了 or 全く処理されていない
  - 一貫性 => DB の内容に矛盾がないこと
  - 独立性 => 複数のトランザクションを同時に実行した場合と順番に実行した場合の処理結果が一致すること
  - 耐久性 => トランザクションが正常終了すると更新結果は障害が発生しても DB から消失しないこと
